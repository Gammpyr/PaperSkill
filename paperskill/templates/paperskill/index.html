{% extends 'paperskill/base.html' %}

{% block title %}Paper Skill{% endblock %}

{% block content %}

<!-- Герой-секция -->
<section class="bg-primary text-white py-5">
	<div class="container py-5">
		<div class="row justify-content-center text-center">
			<div class="col-lg-8">
				<h1 class="display-4 fw-bold mb-4">
					Осваивайте новые навыки с PaperSkill
				</h1>
				<p class="lead mb-5">
					Профессиональные онлайн-курсы от экспертов индустрии. Учитесь в удобное время и в любом месте.
				</p>
				<div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
					<a href="#courses" class="btn btn-light btn-lg px-5 py-3 fw-bold">
						Начать обучение
					</a>
				</div>
			</div>
		</div>
	</div>
</section>


<section class="py-5 bg-light">
	<div class="container">
		<div class="row text-center">
			<div class="col-md-3 col-6 mb-4 mb-md-0">
				<div class="display-6 fw-bold text-primary mb-2">{{ courses_count }}</div>
				<div class="text-muted">Курсов</div>
			</div>
			<div class="col-md-3 col-6 mb-4 mb-md-0">
				<div class="display-6 fw-bold text-primary mb-2">{{ students_count }}</div>
				<div class="text-muted">Студентов</div>
			</div>
			<div class="col-md-3 col-6 mb-4 mb-md-0">
				<div class="display-6 fw-bold text-primary mb-2">24/7</div>
				<div class="text-muted">Поддержка</div>
			</div>
		</div>
	</div>
</section>


<section id="courses" class="py-5">
	<div class="container">
		<div class="text-center mb-5">
			<h2 class="display-5 fw-bold mb-3">Популярные курсы</h2>
			<p class="text-muted col-lg-7 mx-auto">
				Выберите курс, который подходит именно вам, и начните свой путь к новым знаниям уже сегодня
			</p>
		</div>

		<div class="row g-4">
			{% for course in courses %}
			<div class="col-lg-4 col-md-6">
				<div class="card h-100 border-0 shadow-sm">
					{% if course.image %}
					<img src="{{ course.image.url }}" class="card-img-top" alt="{{ course.name }}"
						 style="height: 200px; object-fit: cover;">
					{% else %}
					<div class="bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
						<div class="bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center"
							 style="width: 80px; height: 80px;">
							<i class="bi bi-mortarboard text-primary fs-1"></i>
						</div>
					</div>
					{% endif %}
					<div class="card-body">
						<div class="d-flex justify-content-between align-items-start mb-3">
							<h3 class="h5 fw-bold">{{ course.name }}</h3>
							{% if course.is_paid %}
							<span class="badge bg-danger bg-opacity-10 text-danger">Платный</span>
							{% else %}
							<span class="badge bg-success bg-opacity-10 text-success">Бесплатно</span>
							{% endif %}
						</div>
						<p class="text-muted mb-4">
							{{ course.description|truncatewords:20 }}
						</p>
						<div class="d-flex justify-content-between align-items-center">
							<small class="text-muted"><i class="bi bi-clock me-1"></i> {{ course.lesson_count }} уроков</small>
							<a href="{% url 'paperskill:course_detail' course.pk %}"
							   class="text-primary text-decoration-none">Подробнее →</a>
						</div>
					</div>
				</div>
			</div>
			{% empty %}
			<div class="col-12 text-center">
				<p class="text-muted">Курсы пока не добавлены</p>
			</div>
			{% endfor %}
		</div>

		<div class="text-center mt-5">
			<a href="{% url 'paperskill:courses_list' %}" class="btn btn-link text-primary p-0">
				Смотреть все курсы <i class="bi bi-arrow-right ms-1"></i>
			</a>
		</div>
	</div>
</section>


{% endblock %}